paths:
  /users/register:
    post:
      tags:
        - Users
      summary: Registro del usuario
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Users"
        required: true
      responses:
        201:
          description: Se registra el usuario correctamente
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserRegister"
        500:
          description: Error interno en el servidor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InternalServerError"
  /users/login:
    post:
      tags:
        - Users
      summary: Logeo del usuario
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserLogin"
        required: true
      responses:
        201:
          description: Login OK
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserLogin"
        401:
          description: Usuario no encontrado o Credenciales incorrectas
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedError"
  /users/current:
    get:
      tags:
        - Users
      summary: Obtener datos del usuario actual
      description: Retorna datos del usuario auntenticado
      security:
        - BearerAuth: []
      responses:
        200:
          description: Datos del usuario auntenticado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Users"
        401:
          description: No autorizado
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UnauthorizedError"
  /users/profile-pic:
    post:
      tags:
        - Users
      summary: Subir imagen de perfil
      description: Permite a un usuario autenticado subir su foto de perfil
      security:
        - BearerAuth: []
      requestBody:
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                profilePic:
                  type: string
                  format: binary
      responses:
        200:
          description: Imagen de perfil actualizada correctamente
        401:
          description: No autorizado
  /users/google:
    get:
      tags:
        - Autenticación
      summary: Iniciar sesión con cuenta de google
      description: Redirigue al usuario a la pantalla de login de Google para auntenticarse.
      responses:
        302:
          description: Redirección de Google para login
        500:
          description: Error interno en el servidor
  /users/googlecallback:
    get:
      tags:
        - Autenticación
      summary: Callback de autenticación de Google
      description: Ruta de retorno de Google luego de autenticar al usuario
      responses:
        200:
          description: Usuario auntenticado correctamente
        401:
          description: Fallo en la autenticación
  /users/logout:
    get:
      tags:
        - Users
      summary: Cerrar sesión
      description: Cierra la sesión del usuario auntenticado
      security:
        - BearerAuth: []
      responses:
        200:
          description: Sesión cerrada correctamente
        401:
          description: No autorizado
          content:
            application/json:
              $ref: "#/components/schemas/UnauthorizedError"